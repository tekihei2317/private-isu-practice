
# 11.2s user time, 10ms system time, 29.24M rss, 34.87M vsz
# Current date: Fri Jul 15 17:56:23 2022
# Hostname: ip-172-31-25-238
# Files: /var/log/mysql/mysql-slow.log
# Overall: 142.72k total, 5 unique, 4.76k QPS, 0.38x concurrency _________
# Time range: 2022-07-15T08:55:42 to 2022-07-15T08:56:12
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time            11s     2us     5ms    80us   103us    54us    76us
# Lock time          122ms       0    30us       0     1us       0     1us
# Rows sent        290.65k       0      20    2.09    2.90    2.79    0.99
# Rows examine     1017.28k       0      40    7.30   13.83    5.98    5.75
# Query size        28.09M      30     393  206.38  381.65  162.07   62.76

# Profile
# Rank Query ID                      Response time Calls R/Call V/M   Item
# ==== ============================= ============= ===== ====== ===== ====
#    1 0x7EE272CA51A6F90DD0A5A8B9...  5.9261 51.6% 60740 0.0001  0.00 SELECT comments users
#    2 0x422390B42D4DD86C7539A5F4...  4.3972 38.3% 60740 0.0001  0.00 SELECT comments
#    3 0xC81573858511DD46952CC22A...  0.6731  5.9%  3037 0.0002  0.00 SELECT posts users
# MISC 0xMISC                         0.4964  4.3% 18206 0.0000   0.0 <2 ITEMS>

# Query 1: 2.02k QPS, 0.20x concurrency, ID 0x7EE272CA51A6F90DD0A5A8B96A964A6A at byte 8534356
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-15T08:55:42 to 2022-07-15T08:56:12
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         42   60740
# Exec time     51      6s    87us     5ms    97us   108us    67us    89us
# Lock time     47    58ms       0    23us       0     1us       0     1us
# Rows sent     59 172.02k       1       3    2.90    2.90    0.42    2.90
# Rows examine  33 344.04k       2       6    5.80    5.75    0.82    5.75
# Query size    80  22.71M     392     393  392.10  381.65       0  381.65
# String:
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ############
#   1ms  #
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS LIKE 'comments'\G
#    SHOW CREATE TABLE `comments`\G
#    SHOW TABLE STATUS LIKE 'users'\G
#    SHOW CREATE TABLE `users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT comments.id, comments.post_id, comments.user_id, comments.comment, comments.created_at, users.id as u_id, users.account_name as u_account_name, users.passhash as u_passhash, users.authority as u_authority, users.del_flg as u_del_flg, users.created_at as u_created_at FROM comments join users on users.id = comments.user_id WHERE post_id = 9982 ORDER BY comments.created_at DESC LIMIT 3\G

# Query 2: 2.02k QPS, 0.15x concurrency, ID 0x422390B42D4DD86C7539A5F45EB76A80 at byte 8526784
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-15T08:55:42 to 2022-07-15T08:56:12
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         42   60740
# Exec time     38      4s    66us   873us    72us    80us    11us    69us
# Lock time     48    59ms       0    30us       0     1us       0     1us
# Rows sent     20  59.32k       1       1       1       1       0       1
# Rows examine  54 554.61k       1      18    9.35   13.83    3.49    9.83
# Query size    13   3.77M      65      66   65.10   65.89    0.50   62.76
# String:
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  #
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS LIKE 'comments'\G
#    SHOW CREATE TABLE `comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS `count` FROM `comments` WHERE `post_id` = 9989\G

# Query 3: 101.23 QPS, 0.02x concurrency, ID 0xC81573858511DD46952CC22A6DEF6EBE at byte 7722707
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-15T08:55:42 to 2022-07-15T08:56:12
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2    3037
# Exec time      5   673ms   189us   664us   221us   247us    27us   214us
# Lock time      4     5ms     1us    12us     1us     1us       0     1us
# Rows sent     20  59.32k      20      20      20      20       0      20
# Rows examine  11 118.63k      40      40      40      40       0      40
# Query size     3   1.06M     366     366     366     366       0     366
# String:
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS LIKE 'posts'\G
#    SHOW CREATE TABLE `posts`\G
#    SHOW TABLE STATUS LIKE 'users'\G
#    SHOW CREATE TABLE `users`\G
# EXPLAIN /*!50100 PARTITIONS*/
select posts.id, posts.user_id, posts.body, posts.created_at, posts.mime, users.id as users_id, users.account_name as users_account_name, users.passhash as users_passhash, users.authority as users_authority, users.del_flg as users_del_flg, users.created_at as users_created_at from posts join users on posts.user_id = users.id order by posts.created_at desc limit 20\G
